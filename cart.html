<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- css -->
  <link rel="stylesheet" href="./assets/css/navbar.css">
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="stylesheet" href="./assets/css/cart.css">
  <link rel="stylesheet" href="./assets/css/account.css">
  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- ajax -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- aos -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <!-- jquery -->
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <!-- tab icon -->
  <link rel="icon" type="image/x-icon" href="./assets/img/gtz-logo.png">
  <title>Checkout</title>
</head>

<body>
  <!-- navbar -->
  <script src="assets/js/navbar.js"></script>
  <div id="navbar" data-aos="fade-down"></div>
  <!-- login modal -->
  <script src="assets/js/account.js"></script>
  <div id="login-modal"></div>
  <!-- body -->
  <main data-aos="fade-up">
    <section class="left-section">
      <section class="contact">
        <h2>Contact</h2>
        <input type="email" placeholder="Email">
        <label><input type="checkbox"> Email me with news and offers</label>
      </section>
      <section class="delivery">
        <h2>Delivery</h2>
        <label><input type="radio" name="delivery" checked> Ship</label>
        <label><input type="radio" name="delivery"> Pickup in store</label>
        <form>
          <select>
            <option>Philippines</option>
          </select>
          <input type="text" placeholder="First name">
          <input type="text" placeholder="Last name">
          <input type="text" placeholder="Company (optional)">
          <input type="text" placeholder="Address">
          <input type="text" placeholder="Apartment, suite, etc. (optional)">
          <input type="text" placeholder="Postal code">
          <input type="text" placeholder="City">
          <input type="text" placeholder="Region">
          <input type="text" placeholder="Phone">
          <label><input type="checkbox"> Save this information for next time</label>
        </form>
      </section>
      <section class="shipping-method">
        <h2>Shipping method</h2>
        <p>Enter your shipping address to view available shipping methods.</p>
      </section>
      <section class="payment">
        <h2>Payment</h2>
        <p>All transactions are secure and encrypted.</p>
        <label><input type="radio" name="payment" checked> Bank Deposit</label>
        <p>Check our FAQ Page (<a href="">link</a>) for more info</p>
        <label><input type="radio" name="payment"> Debit, Credit, and Prepaid (VISA and MasterCards through
          IPay88)</label>
      </section>
      <section class="billing-address">
        <h2>Billing address</h2>
        <label><input type="radio" name="billing" checked> Same as shipping address</label>
        <label><input type="radio" name="billing"> Use a different billing address</label>
      </section>
      <div class="text-center btn-proceed-checkout">
        <button class="btn btn-brown btn-lg" onclick="proceedToCheckout()">Complete Order</button>
    </div>
    
    </section>
    <section class="right-section">
      <button class="toggle-summary">Order Summary &#9662;</button>

      <div class="order-summary">
        <h2>Order Summary</h2>
        <div id="cartContainer"></div> <!-- This will hold dynamically added items -->
        <hr>
        <p id="subtotal"><strong>Subtotal: ₱0.00</strong></p>
        <p id="total"><strong>Total: ₱0.00</strong></p>
    </div>

    </section>
  </main>
  <footer>
    <a href="#">Warranty Policy</a> |
    <a href="#">Shipping Policy</a> |
    <a href="#">Privacy Policy</a> |
    <a href="#">Terms of Service</a> |
    <a href="#">Contact Information</a>
  </footer>
  <!-- Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
  <!-- script -->
  <script src="assets/js/cart.js"></script>
  <script src="assets/js/home.js"></script>
  <script>AOS.init();</script>
  <script>
    function loadCart() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let cartContainer = document.getElementById("cartContainer");
    let subtotalElement = document.getElementById("subtotal");
    let totalElement = document.getElementById("total");

    cartContainer.innerHTML = "";

    if (cart.length === 0) {
        cartContainer.innerHTML = "<p class='text-center'>Your cart is empty.</p>";
        subtotalElement.innerHTML = "<strong>Subtotal: ₱0.00</strong>";
        totalElement.innerHTML = "<strong>Total: ₱0.00</strong>";
        return;
    }

    let subtotal = 0;

    cart.forEach((item, index) => {
        subtotal += item.price;
        cartContainer.innerHTML += `
            <div class="cart-item card mb-3">
                <div class="row no-gutters">
                    <div class="col-md-4">
                        <img src="${item.image}" class="card-img" alt="${item.name}">
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title">${item.name}</h5>
                            <p class="card-text"><strong>Price: ₱${item.price.toFixed(2)}</strong></p>
                            <button class="btn btn-sm btn-danger" onclick="removeFromCart(${index})">Remove</button>
                        </div>
                    </div>
                </div>
            </div>
        `;
    });

    subtotalElement.innerHTML = `<strong>Subtotal: ₱${subtotal.toFixed(2)}</strong>`;
    totalElement.innerHTML = `<strong>Total: ₱${subtotal.toFixed(2)}</strong>`;
}

function removeFromCart(index) {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    loadCart();
}

function proceedToCheckout() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    if (cart.length === 0) {
        alert("Your cart is empty! Add items before proceeding.");
        return;
    }

    alert("Successfully checked out!");
    localStorage.removeItem("cart"); // Clear cart after checkout
    loadCart();
}

document.addEventListener("DOMContentLoaded", loadCart);


  </script>
</body>

</html>